<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Black-Box objective function — Objective • mlr3mbo</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<link href="../extra.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Black-Box objective function — Objective" />
<meta property="og:description" content="Specifies a black-box function and archive for optimizers to
act upon.
It allows the basic operations of querying the objective
at design points ($eval_batch()), storing the evaluations in an internal archive
and querying the archive ($archive()).
Evaluations of points are performed in batches.
Before and after a batch is evaluated, the Terminator is queried for the remaining budget.
If the available budget is exhausted, an exception is raised, and no further evaluations can be performed from this point on.
The optimizer is also supposed to store its final result, consisting of a list of optimal values
and stimated performance values, by calling the method instance$assign_result." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mlr3mbo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">
    <span class="fa fa fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="https://mlr3book.mlr-org.com">
    <span class="fa fa fa fa-link"></span>
     
    mlr3book
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mlr-org/mlr3mbo">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.slack.com">
    <span class="fab fa fab fa-slack"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fab fa fab fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Black-Box objective function</h1>
    <small class="dont-index">Source: <a href='https://github.com/mlr-org/mlr3mbo/blob/master/R/Objective.R'><code>R/Objective.R</code></a></small>
    <div class="hidden name"><code>Objective.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Specifies a black-box function and archive for optimizers to
act upon.
It allows the basic operations of querying the objective
at design points (<code>$eval_batch()</code>), storing the evaluations in an internal archive
and querying the archive (<code>$archive()</code>).</p>
<p>Evaluations of points are performed in batches.
Before and after a batch is evaluated, the <a href='Terminator.html'>Terminator</a> is queried for the remaining budget.
If the available budget is exhausted, an exception is raised, and no further evaluations can be performed from this point on.</p>
<p>The optimizer is also supposed to store its final result, consisting of a list of optimal values
and stimated performance values, by calling the method <code>instance$assign_result</code>.</p>
    </div>



    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p><a href='https://rdrr.io/pkg/R6/man/R6Class.html'>R6::R6Class</a> object.</p>
    <h2 class="hasAnchor" id="construction"><a class="anchor" href="#construction"></a>Construction</h2>

    
<pre>inst = Objective$new param_set, terminator)
</pre>

<p>This defines the resampled performance of a learner on a task, a feasibility region
for the parameters the tuner is supposed to optimize, and a termination criterion.</p><ul>
<li><p><code>param_set</code> :: <a href='https://paradox.mlr-org.com/reference/ParamSet.html'>paradox::ParamSet</a>.</p></li>
<li><p><code>terminator</code> :: <a href='Terminator.html'>Terminator</a>.</p></li>
</ul>

    <h2 class="hasAnchor" id="fields"><a class="anchor" href="#fields"></a>Fields</h2>

    

<ul>
<li><p><code>param_set</code> :: <a href='https://paradox.mlr-org.com/reference/ParamSet.html'>paradox::ParamSet</a>; from construction.</p></li>
<li><p><code>terminator</code> :: <a href='Terminator.html'>Terminator</a>; from construction.</p></li>
<li><p><code>n_evals</code> :: <code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code><br />
Number of configuration evaluations stored in the container.</p></li>
<li><p><code>start_time</code> :: <code><a href='https://rdrr.io/r/base/DateTimeClasses.html'>POSIXct(1)</a></code><br />
Time the tuning was started.
This is set in the beginning of <code>$tune()</code> of mlr3tuning::Tuner.</p></li>
<li><p><code>result</code> :: named <code><a href='https://rdrr.io/r/base/list.html'>list()</a></code><br />
Result of the tuning, i.e., the optimal configuration and its estimated performance:</p><ul>
<li><p><code>"perf"</code>: Named vector of estimated performance values of the best configuration found.</p></li>
<li><p><code>"tune_x"</code>: Named list of optimal hyperparameter settings, without potential <code>trafo</code> function applied.</p></li>
<li><p><code>"params"</code>: Named list of optimal hyperparameter settings, similar to <code>tune_x</code>, but with potential <code>trafo</code> function applied.
Also, if the learner had some extra parameters statically set before tuning, these are included here.</p></li>
</ul></li>
</ul>

    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    

<ul>
<li><p><code>eval_batch(dt)</code><br />
<code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table::data.table()</a></code> -&gt; named <code><a href='https://rdrr.io/r/base/list.html'>list()</a></code><br />
Evaluates all hyperparameter configurations in <code>dt</code> through resampling, where each configuration is a row, and columns are scalar parameters.
Updates the internal <a href='https://mlr3.mlr-org.com/reference/BenchmarkResult.html'>mlr3::BenchmarkResult</a> <code>$bmr</code> by reference, and returns a named list with the following elements:</p><ul>
<li><p><code>"batch_nr"</code>: Number of the new batch.
This number is calculated in an auto-increment fashion and also stored inside the <a href='https://mlr3.mlr-org.com/reference/BenchmarkResult.html'>mlr3::BenchmarkResult</a> as column <code>batch_nr</code></p></li>
<li><p><code>"perf"</code>: A <code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table::data.table()</a></code> of evaluated performances for each row of the <code>dt</code>.
Has the same number of rows as <code>dt</code>, and the same number of columns as length of <code>measures</code>.
Columns are named with measure-IDs. A cell entry is the (aggregated) performance of that configuration for that measure.</p></li>
</ul>

<p>Before and after each batch-evaluation, the <a href='Terminator.html'>Terminator</a> is checked, and if it is positive, an exception of class <code>terminated_error</code> is raised.
This function should be internally called by the tuner.</p></li>
<li><p><code>best(measure = NULL)</code><br />
(<a href='https://mlr3.mlr-org.com/reference/Measure.html'>mlr3::Measure</a>, <code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code>) -&gt; <a href='https://mlr3.mlr-org.com/reference/ResampleResult.html'>mlr3::ResampleResult</a><br />
Queries the <a href='https://mlr3.mlr-org.com/reference/BenchmarkResult.html'>mlr3::BenchmarkResult</a> for the best <a href='https://mlr3.mlr-org.com/reference/ResampleResult.html'>mlr3::ResampleResult</a> according to <code>measure</code> (default is the first measure in <code>$measures</code>).
In case of ties, one of the tied values is selected randomly.</p></li>
<li><p><code>archive(unnest = "no")</code><br />
<code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code> -&gt; <code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table::data.table()</a></code><br />
Returns a table of contained resample results, similar to the one returned by <code><a href='https://mlr3.mlr-org.com/reference/benchmark.html'>mlr3::benchmark()</a></code>'s <code>$aggregate()</code> method.
Some interesting columns of this table are:</p><ul>
<li><p>All evaluated measures are included as numeric columns, named with their measure ID.</p></li>
<li><p><code>tune_x</code>: A list column that contains the parameter settings the tuner evaluated, without potential <code>trafo</code> applied.</p></li>
<li><p><code>params</code>: A list column that contains the parameter settings that were actually used in the learner.
Similar to <code>tune_x</code>, but with potential <code>trafo</code> applied.
Also, if the learner had some extra parameters statically set before tuning, these are included here.
<code>unnest</code> can have the values <code>"no"</code>, <code>"tune_x"</code> or <code>"params"</code>. If it is not set to <code>"no"</code>, settings of the respective list-column
are stored in separate columns instead of the list-column, and dependent, inactive parameters are encoded with <code>NA</code>.</p></li>
</ul></li>
<li><p><code>assign_result(tune_x, perf)</code><br />
(<code>list</code>, <code>numeric</code>) -&gt; <code>NULL</code><br />
The tuner writes the best found list of settings and estimated performance values here. For internal use.</p><ul>
<li><p><code>tune_x</code>: Must be a named list of settings only of parameters from <code>param_set</code> and be feasible, untransformed.</p></li>
<li><p><code>perf</code> : Must be a named numeric vector of performance measures, named with performance IDs, regarding all elements in <code>measures</code>.</p></li>
</ul></li>
</ul>

    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
<h3>Public methods</h3>

<ul>
<li><p><a href='#method-new'><code>Objective$new()</code></a></p></li>
<li><p><a href='#method-format'><code>Objective$format()</code></a></p></li>
<li><p><a href='#method-print'><code>Objective$print()</code></a></p></li>
<li><p><a href='#method-eval_batch'><code>Objective$eval_batch()</code></a></p></li>
<li><p><a href='#method-assign_result'><code>Objective$assign_result()</code></a></p></li>
<li><p><a href='#method-clone'><code>Objective$clone()</code></a></p></li>
</ul>
<p><hr>
<a id="method-new"></a></p><h3>Method <code>new()</code></h3>

<h3>Usage</h3>
<p><div class="r"></p><pre>Objective$new(fun, param_set, terminator, minimize = TRUE)</pre><p></div></p>

<p><hr>
<a id="method-format"></a></p><h3>Method <code><a href='https://rdrr.io/r/base/format.html'>format()</a></code></h3>

<h3>Usage</h3>
<p><div class="r"></p><pre>Objective$format()</pre><p></div></p>

<p><hr>
<a id="method-print"></a></p><h3>Method <code><a href='https://rdrr.io/r/base/print.html'>print()</a></code></h3>

<h3>Usage</h3>
<p><div class="r"></p><pre>Objective$print()</pre><p></div></p>

<p><hr>
<a id="method-eval_batch"></a></p><h3>Method <code>eval_batch()</code></h3>

<h3>Usage</h3>
<p><div class="r"></p><pre>Objective$eval_batch(dt)</pre><p></div></p>

<p><hr>
<a id="method-assign_result"></a></p><h3>Method <code>assign_result()</code></h3>

<h3>Usage</h3>
<p><div class="r"></p><pre>Objective$assign_result(tune_x, perf)</pre><p></div></p>

<p><hr>
<a id="method-clone"></a></p><h3>Method <code>clone()</code></h3>
<p>The objects of this class are cloneable with this method.</p><h3>Usage</h3>
<p><div class="r"></p><pre>Objective$clone(deep = FALSE)</pre><p></div></p>

<h3>Arguments</h3>
<p><div class="arguments"></p><dl class='dl-horizontal'>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p></dd>

</dl><p></div></p>



  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#format">Format</a></li>
      <li><a href="#construction">Construction</a></li>
      <li><a href="#fields">Fields</a></li>
      <li><a href="#methods">Methods</a></li>
      <li><a href="#methods">Methods</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Michel Lang, Bernd Bischl, Jakob Richter, Martin Binder, Julia Moosbauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


